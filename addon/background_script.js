/*! For license information please see background_script.js.LICENSE.txt */
(()=>{var t={526:(t,e)=>{"use strict";e.byteLength=function(t){var e=s(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=s(t),a=o[0],c=o[1],f=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,c)),u=0,h=c>0?a-4:a;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],f[u++]=e>>16&255,f[u++]=e>>8&255,f[u++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,f[u++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,f[u++]=e>>8&255,f[u++]=255&e),f},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,f=r-i;s<f;s+=a)o.push(c(t,s,s+a>f?f:s+a));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},287:(t,e,n)=>{"use strict";const r=n(526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=c,e.IS=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,n)}function f(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=s(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|d(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?s(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),s(t<0?0:0|d(t))}function l(t){const e=t.length<0?0:0|d(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function d(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return r?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){let o,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){let r=-1;for(o=n;o<s;o++)if(f(t,o)===f(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(f(t,o+r)!==f(e,r)){n=!1;break}if(n)return o}return-1}function v(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(X(r))return a;t[n+a]=r}return a}function E(t,e,n,r){return J(W(e,t.length-n),t,n,r)}function A(t,e,n,r){return J(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function I(t,e,n,r){return J(q(e),t,n,r)}function S(t,e,n,r){return J(function(t,e){let n,r,i;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function _(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(i+a<=n){let n,r,s,c;switch(a){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],s=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=B));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return f(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(K(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.IS;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(o,a),f=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<s;++t)if(f[t]!==u[t]){o=f[t],a=u[t];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return A(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function D(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=Y[t[r]];return i}function N(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i){H(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function $(t,e,n,r,i){H(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function k(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||k(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function x(t,e,n,r,o){return e=+e,n>>>=0,o||k(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Z((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Z((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Z((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Z((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(t,e=0){return $(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=0,o=1,a=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o|0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o|0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Z((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(t,e=0){return $(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};const M={};function j(t,e,n){M[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function H(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new M.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||z(e,t.length-(n+1))}(r,i,o)}function V(t,e){if("number"!=typeof t)throw new M.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,n){if(Math.floor(t)!==t)throw V(t,n),new M.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function W(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},251:(t,e)=>{e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,f=c>>1,u=-7,h=n?i-1:0,l=n?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=l,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+h],h+=l,u-=8);if(0===o)o=1-f;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=f}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,f=8*o-i-1,u=(1<<f)-1,h=u>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?l/c:l*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*c-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;t[n+p]=255&a,p+=d,a/=256,f-=8);t[n+p-d]|=128*g}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(()=>{"use strict";const t="dcinside-b3f40",e="477369754343",r={APPLICATION:{PACKAGE_NAME:"com.dcinside.app.android",VERSION:"100103",VERSION_NAME:"5.0.3",FINGERPRINT:{SHA1:"43bd70dfc365ec1749f0424d28174da44ee7659d",SHA256:"5rJxRKJ2YLHgBgj6RdMZBl2X0KcftUuMoXVug0bsKd0="}},FIREBASE:{API_KEY:"AIzaSyDcbVof_4Bi2GwJ1H8NjSwSTaMPPZeCE38",AUTH_DOMAIN:`${t}.firebaseapp.com`,DATABASE_URL:`https://${t}.firebaseio.com`,PROJECT_ID:`${t}`,STORAGE_BUCKET:`${t}.appspot.com`,MESSAGING_SENDER_ID:`${e}`,APP_ID:`1:${e}:android:d2ffdd960120a207727842`,APP_NAME:"[DEFAULT]"}};var i=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function o(t){return a.test(t)}const a=/^-?[0-9]+$/;function s(t){return c.test(t)}const c=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;let f=function(t){return t.underflow="underflow",t.overflow="overflow",t.truncate_integer="truncate_integer",t.truncate_float="truncate_float",t}({});function u(t){return t.replace(h,"").replace(p,"").replace(d,"").replace(l,"")}const h=/[eE][+-]?\d+$/,l=/^-?(0*)?/,p=/\./,d=/0+$/;class g{isLosslessNumber=!0;constructor(t){if(!s(t))throw new Error(`Invalid number (value: "${t}")`);this.value=t}valueOf(){const t=function(t){if(function(t){const e=Number.parseFloat(t),n=String(e);return u(t)===u(n)}(t))return;if(o(t))return f.truncate_integer;const e=Number.parseFloat(t);return Number.isFinite(e)?0===e?f.underflow:f.truncate_float:f.overflow}(this.value);if(void 0===t||t===f.truncate_float)return Number.parseFloat(this.value);if(o(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function y(t){return new g(t)}function m(t){return o(t)?BigInt(t):Number.parseFloat(t)}function w(t,e,n,r){return Array.isArray(n)?r.call(t,e,function(t,e){for(let n=0;n<t.length;n++)t[n]=w(t,String(n),t[n],e);return t}(n,r)):n&&"object"==typeof n&&!function(t){return t&&"object"==typeof t&&!0===t.isLosslessNumber||!1}(n)?r.call(t,e,function(t,e){for(const n of Object.keys(t)){const r=w(t,n,t[n],e);void 0!==r?t[n]=r:delete t[n]}return t}(n,r)):r.call(t,e,n)}function b(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=0;const i=o();return function(t){if(void 0===t)throw new SyntaxError(`JSON value expected ${z()}`)}(i),function(){if(r<t.length)throw new SyntaxError(`Expected end of input ${z()}`)}(),e?function(t,e){return w({"":t},"",t,e)}(i,e):i;function o(){s();const e=c()??function(){const e=r;if(t.charCodeAt(r)===k&&(r++,l(e)),t.charCodeAt(r)===U)r++;else if((i=t.charCodeAt(r))>=x&&i<=M)for(r++;E(t.charCodeAt(r));)r++;var i;if(t.charCodeAt(r)===F)for(r++,l(e);E(t.charCodeAt(r));)r++;if(t.charCodeAt(r)===W||t.charCodeAt(r)===G)for(r++,t.charCodeAt(r)!==k&&t.charCodeAt(r)!==$||r++,l(e);E(t.charCodeAt(r));)r++;if(r>e)return n(t.slice(e,r))}()??function(){if(t.charCodeAt(r)===C){r++,s();const e={};let n=!0;for(;r<t.length&&t.charCodeAt(r)!==B;){n?n=!1:(f(),s());const t=r,i=c();if(void 0===i)return void p();s(),u();const a=o();if(void 0===a)return void b();Object.prototype.hasOwnProperty.call(e,i)&&!A(a,e[i])&&d(i,t+1),e[i]=a}return t.charCodeAt(r)!==B&&function(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${z()}`)}(),r++,e}}()??function(){if(t.charCodeAt(r)===O){r++,s();const e=[];let n=!0;for(;r<t.length&&t.charCodeAt(r)!==T;){n?n=!1:f();const t=o();h(t),e.push(t)}return t.charCodeAt(r)!==T&&function(){throw new SyntaxError(`Array item or end of array ']' expected ${z()}`)}(),r++,e}}()??a("true",!0)??a("false",!1)??a("null",null);return s(),e}function a(e,n){if(t.slice(r,r+e.length)===e)return r+=e.length,n}function s(){for(;(e=t.charCodeAt(r))===D||e===N||e===R||e===P;)r++;var e}function c(){if(t.charCodeAt(r)===L){r++;let n="";for(;r<t.length&&t.charCodeAt(r)!==L;){if(t.charCodeAt(r)===_){const e=t[r+1],i=S[e];void 0!==i?(n+=i,r++):"u"===e?v(t.charCodeAt(r+2))&&v(t.charCodeAt(r+3))&&v(t.charCodeAt(r+4))&&v(t.charCodeAt(r+5))?(n+=String.fromCharCode(Number.parseInt(t.slice(r+2,r+6),16)),r+=5):I(r):m(r)}else(e=t.charCodeAt(r))>=32&&e<=1114111?n+=t[r]:g(t[r]);r++}return function(){if(t.charCodeAt(r)!==L)throw new SyntaxError(`End of string '"' expected ${z()}`)}(),r++,n}var e}function f(){if(t.charCodeAt(r)!==j)throw new SyntaxError(`Comma ',' expected after value ${z()}`);r++}function u(){if(t.charCodeAt(r)!==H)throw new SyntaxError(`Colon ':' expected after property name ${z()}`);r++}function h(t){if(void 0===t)throw new SyntaxError(`Array item expected ${z()}`)}function l(e){if(!E(t.charCodeAt(r))){const n=t.slice(e,r);throw new SyntaxError(`Invalid number '${n}', expecting a digit ${z()}`)}}function p(){throw new SyntaxError(`Quoted object key expected ${z()}`)}function d(t,e){throw new SyntaxError(`Duplicate key '${t}' encountered at position ${e}`)}function g(t){throw new SyntaxError(`Invalid character '${t}' ${V()}`)}function m(e){const n=t.slice(e,e+2);throw new SyntaxError(`Invalid escape character '${n}' ${V()}`)}function b(){throw new SyntaxError(`Object value expected after ':' ${V()}`)}function I(e){const n=t.slice(e,e+6);throw new SyntaxError(`Invalid unicode character '${n}' ${V()}`)}function V(){return`at position ${r}`}function z(){return`${r<t.length?`but got '${t[r]}'`:"but reached end of input"} ${V()}`}}function v(t){return t>=U&&t<=M||t>=V&&t<=q||t>=z&&t<=J}function E(t){return t>=U&&t<=M}function A(t,e){return t===e||(Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>A(t,e[n]))):!(!I(t)||!I(e))&&[...new Set([...Object.keys(t),...Object.keys(e)])].every((n=>A(t[n],e[n]))))}function I(t){return"object"==typeof t&&null!==t}const S={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},_=92,C=123,B=125,O=91,T=93,D=32,N=10,R=9,P=13,L=34,$=43,k=45,U=48,x=49,M=57,j=44,F=46,H=58,V=65,z=97,G=69,W=101,q=70,J=102;function K(t,e,n,r){const i=function(t){return"number"==typeof t?" ".repeat(t):"string"==typeof t&&""!==t?t:void 0}(n);return function t(a,c){if(Array.isArray(r)){const t=r.find((t=>t.test(a)));if(t){const e=t.stringify(a);if("string"!=typeof e||!s(e))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${e})`);return e}}return"boolean"==typeof a||"number"==typeof a||"string"==typeof a||null===a||a instanceof Date||a instanceof Boolean||a instanceof Number||a instanceof String?JSON.stringify(a):a?.isLosslessNumber||"bigint"==typeof a?a.toString():Array.isArray(a)?function(n,r){if(0===n.length)return"[]";const o=i?r+i:void 0;let a=i?"[\n":"[";for(let r=0;r<n.length;r++){const s="function"==typeof e?e.call(n,String(r),n[r]):n[r];i&&(a+=o),a+=void 0!==s&&"function"!=typeof s?t(s,o):"null",r<n.length-1&&(a+=i?",\n":",")}return a+=i?`\n${r}]`:"]",a}(a,c):a&&"object"==typeof a?function(r,a){if("function"==typeof r.toJSON)return K(r.toJSON(),e,n,void 0);const s=Array.isArray(e)?e.map(String):Object.keys(r);if(0===s.length)return"{}";const c=i?a+i:void 0;let f=!0,u=i?"{\n":"{";for(const n of s){const a="function"==typeof e?e.call(r,n,r[n]):r[n];if(o(0,a)){f?f=!1:u+=i?",\n":",";const e=JSON.stringify(n);u+=i?`${c+e}: `:`${e}:`,u+=t(a,c)}}return u+=i?`\n${a}}`:"}",u}(a,c):void 0}("function"==typeof e?e.call({"":t},"",t):t,"");function o(t,e){return void 0!==e&&"function"!=typeof e&&"symbol"!=typeof e}}var X=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function Y(){return X(this,void 0,void 0,(function*(){let{check_in:t}=yield browser.storage.local.get({check_in:{id:0,token:0,timestamp:0,version_info:""}});return Date.now()-Number(t.timestamp)>864e5&&(t=yield function(t){return X(this,void 0,void 0,(function*(){const e=K({id:t.id,checkin:{last_checkin_msec:t.timestamp,type:3},security_token:t.token,version:2}),n=yield fetch("https://device-provisioning.googleapis.com/checkin",{credentials:"omit",headers:{Accept:"application/json","Content-Type":"application/json"},body:e,method:"POST",mode:"cors"}),r=b(yield n.text(),null,m);return{id:r.android_id,token:r.security_token,timestamp:r.last_checkin_msec,version_info:r.version_info}}))}(t),yield browser.storage.local.set({check_in:t})),t}))}const Z=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],o=e+1<t.length,a=o?t[e+1]:0,s=e+2<t.length,c=s?t[e+2]:0,f=i>>2,u=(3&i)<<4|a>>4;let h=(15&a)<<2|c>>6,l=63&c;s||(l=64,o||(h=64)),r.push(n[f],n[u],n[h],n[l])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const a=e<t.length?n[t.charAt(e)]:64;++e;const s=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==o||null==a||null==s)throw new tt;const c=i<<2|o>>4;if(r.push(c),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const et=function(t){return function(t){const e=Z(t);return Q.encodeByteArray(e,!0)}(t).replace(/\./g,"")},nt=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return Q.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},rt=()=>{var t;return null===(t=nt())||void 0===t?void 0:t.config};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}class ot extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?function(t,e){return t.replace(st,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ot(r,a,n)}}const st=/\{\$([^}]+)}/g;function ct(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(ft(n)&&ft(o)){if(!ct(n,o))return!1}else if(n!==o)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function ft(t){return null!==t&&"object"==typeof t}class ut{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ht="[DEFAULT]";class lt{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new it;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ht})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=ht){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=ht){return this.instances.has(t)}getOptions(t=ht){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===ht?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t=ht){return this.component?this.component.multipleInstances?t:ht:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lt(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const dt=[];var gt;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(gt||(gt={}));const yt={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},mt=gt.INFO,wt={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},bt=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=wt[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};let vt,Et;const At=new WeakMap,It=new WeakMap,St=new WeakMap,_t=new WeakMap,Ct=new WeakMap;let Bt={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return It.get(t);if("objectStoreNames"===e)return t.objectStoreNames||St.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ot(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Et||(Et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Dt(this),t),Tt(At.get(this))}:function(...t){return Tt(e.apply(Dt(this),t))}:function(t,...n){const r=e.call(Dt(this),t,...n);return St.set(r,t.sort?t.sort():[t]),Tt(r)}:(t instanceof IDBTransaction&&function(t){if(It.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));It.set(t,e)}(t),n=t,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,Bt):t);var e,n}function Tt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(Tt(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&At.set(e,t)})).catch((()=>{})),Ct.set(e,t),e}(t);if(_t.has(t))return _t.get(t);const e=Ot(t);return e!==t&&(_t.set(t,e),Ct.set(e,t)),e}const Dt=t=>Ct.get(t);function Nt(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Tt(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(Tt(a.result),t.oldVersion,t.newVersion,Tt(a.transaction),t)})),n&&a.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}const Rt=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],Lt=new Map;function $t(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Lt.get(e))return Lt.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rt.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),i&&o.done]))[0]};return Lt.set(e,o),o}var kt;kt=Bt,Bt={...kt,get:(t,e,n)=>$t(t,e)||kt.get(t,e,n),has:(t,e)=>!!$t(t,e)||kt.has(t,e)};class Ut{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const xt="@firebase/app",Mt="0.10.15",jt=new class{constructor(t){this.name=t,this._logLevel=mt,this._logHandler=bt,this._userLogHandler=null,dt.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?yt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...t),this._logHandler(this,gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...t),this._logHandler(this,gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...t),this._logHandler(this,gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...t),this._logHandler(this,gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...t),this._logHandler(this,gt.ERROR,...t)}}("@firebase/app"),Ft="@firebase/app-compat",Ht="@firebase/analytics-compat",Vt="@firebase/analytics",zt="@firebase/app-check-compat",Gt="@firebase/app-check",Wt="@firebase/auth",qt="@firebase/auth-compat",Jt="@firebase/database",Kt="@firebase/data-connect",Xt="@firebase/database-compat",Yt="@firebase/functions",Zt="@firebase/functions-compat",Qt="@firebase/installations",te="@firebase/installations-compat",ee="@firebase/messaging",ne="@firebase/messaging-compat",re="@firebase/performance",ie="@firebase/performance-compat",oe="@firebase/remote-config",ae="@firebase/remote-config-compat",se="@firebase/storage",ce="@firebase/storage-compat",fe="@firebase/firestore",ue="@firebase/vertexai",he="@firebase/firestore-compat",le="firebase",pe="[DEFAULT]",de={[xt]:"fire-core",[Ft]:"fire-core-compat",[Vt]:"fire-analytics",[Ht]:"fire-analytics-compat",[Gt]:"fire-app-check",[zt]:"fire-app-check-compat",[Wt]:"fire-auth",[qt]:"fire-auth-compat",[Jt]:"fire-rtdb",[Kt]:"fire-data-connect",[Xt]:"fire-rtdb-compat",[Yt]:"fire-fn",[Zt]:"fire-fn-compat",[Qt]:"fire-iid",[te]:"fire-iid-compat",[ee]:"fire-fcm",[ne]:"fire-fcm-compat",[re]:"fire-perf",[ie]:"fire-perf-compat",[oe]:"fire-rc",[ae]:"fire-rc-compat",[se]:"fire-gcs",[ce]:"fire-gcs-compat",[fe]:"fire-fst",[he]:"fire-fst-compat",[ue]:"fire-vertex","fire-js":"fire-js",[le]:"fire-js-all"},ge=new Map,ye=new Map,me=new Map;function we(t,e){try{t.container.addComponent(e)}catch(n){jt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function be(t){const e=t.name;if(me.has(e))return jt.debug(`There were multiple attempts to register component ${e}.`),!1;me.set(e,t);for(const e of ge.values())we(e,t);for(const e of ye.values())we(e,t);return!0}function ve(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ee=new at("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ae{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ut("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ee.create("app-deleted",{appName:this._name})}}function Ie(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:pe,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ee.create("bad-app-name",{appName:String(i)});if(n||(n=rt()),!n)throw Ee.create("no-options");const o=ge.get(i);if(o){if(ct(n,o.options)&&ct(r,o.config))return o;throw Ee.create("duplicate-app",{appName:i})}const a=new pt(i);for(const t of me.values())a.addComponent(t);const s=new Ae(n,r,a);return ge.set(i,s),s}function Se(t,e,n){var r;let i=null!==(r=de[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${i}" with version "${e}":`];return o&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void jt.warn(t.join(" "))}be(new ut(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const _e="firebase-heartbeat-store";let Ce=null;function Be(){return Ce||(Ce=Nt("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(_e)}catch(t){console.warn(t)}}}).catch((t=>{throw Ee.create("idb-open",{originalErrorMessage:t.message})}))),Ce}async function Oe(t,e){try{const n=(await Be()).transaction(_e,"readwrite"),r=n.objectStore(_e);await r.put(e,Te(t)),await n.done}catch(t){if(t instanceof ot)jt.warn(t.message);else{const e=Ee.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});jt.warn(e.message)}}}function Te(t){return`${t.name}!${t.options.appId}`}class De{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Re(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ne();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(t){jt.warn(t)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ne(),{heartbeatsToSend:n,unsentEntries:r}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Pe(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pe(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=et(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return jt.warn(t),""}}}function Ne(){return(new Date).toISOString().substring(0,10)}class Re{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Be()).transaction(_e),n=await e.objectStore(_e).get(Te(t));return await e.done,n}catch(t){if(t instanceof ot)jt.warn(t.message);else{const e=Ee.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});jt.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Oe(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Oe(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Pe(t){return et(JSON.stringify({version:2,heartbeats:t})).length}be(new ut("platform-logger",(t=>new Ut(t)),"PRIVATE")),be(new ut("heartbeat",(t=>new De(t)),"PRIVATE")),Se(xt,Mt,""),Se(xt,Mt,"esm2017"),Se("fire-js",""),Se("firebase","11.0.1","app");const Le="@firebase/installations",$e="0.6.10",ke=`w:${$e}`,Ue="FIS_v2",xe=new at("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(t){return t instanceof ot&&t.code.includes("request-failed")}function je({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Fe(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function He(t,e){const n=(await e.json()).error;return xe.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ve({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function ze(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ge(t){return new Promise((e=>{setTimeout(e,t)}))}const We=/^[cdef][\w-]{21}$/;function qe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){var e;return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(t);return We.test(e)?e:""}catch(t){return""}}function Je(t){return`${t.appName}!${t.appId}`}const Ke=new Map;function Xe(t,e){const n=Je(t);Ye(n,e),function(t,e){const n=(!Ze&&"BroadcastChannel"in self&&(Ze=new BroadcastChannel("[Firebase] FID Change"),Ze.onmessage=t=>{Ye(t.data.key,t.data.fid)}),Ze);n&&n.postMessage({key:t,fid:e}),0===Ke.size&&Ze&&(Ze.close(),Ze=null)}(n,e)}function Ye(t,e){const n=Ke.get(t);if(n)for(const t of n)t(e)}let Ze=null;const Qe="firebase-installations-store";let tn=null;function en(){return tn||(tn=Nt("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Qe)}})),tn}async function nn(t,e){const n=Je(t),r=(await en()).transaction(Qe,"readwrite"),i=r.objectStore(Qe),o=await i.get(n);return await i.put(e,n),await r.done,o&&o.fid===e.fid||Xe(t,e.fid),e}async function rn(t){const e=Je(t),n=(await en()).transaction(Qe,"readwrite");await n.objectStore(Qe).delete(e),await n.done}async function on(t,e){const n=Je(t),r=(await en()).transaction(Qe,"readwrite"),i=r.objectStore(Qe),o=await i.get(n),a=e(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Xe(t,a.fid),a}async function an(t){let e;const n=await on(t.appConfig,(n=>{const r=function(t){return fn(t||{fid:qe(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xe.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(t,e){try{const n=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=je(t),i=Ve(t),o=e.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&i.append("x-firebase-client",t)}const a={fid:n,authVersion:Ue,appId:t.appId,sdkVersion:ke},s={method:"POST",headers:i,body:JSON.stringify(a)},c=await ze((()=>fetch(r,s)));if(c.ok){const t=await c.json();return{fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:Fe(t.authToken)}}throw await He("Create Installation",c)}(t,e);return nn(t.appConfig,n)}catch(n){throw Me(n)&&409===n.customData.serverCode?await rn(t.appConfig):await nn(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:sn(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function sn(t){let e=await cn(t.appConfig);for(;1===e.registrationStatus;)await Ge(100),e=await cn(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await an(t);return n||e}return e}function cn(t){return on(t,(t=>{if(!t)throw xe.create("installation-not-found");return fn(t)}))}function fn(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function un({appConfig:t,heartbeatServiceProvider:e},n){const r=function(t,{fid:e}){return`${je(t)}/${e}/authTokens:generate`}(t,n),i=function(t,{refreshToken:e}){const n=Ve(t);return n.append("Authorization",function(t){return`${Ue} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&i.append("x-firebase-client",t)}const a={installation:{sdkVersion:ke,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},c=await ze((()=>fetch(r,s)));if(c.ok)return Fe(await c.json());throw await He("Generate Auth Token",c)}async function hn(t,e=!1){let n;const r=await on(t.appConfig,(r=>{if(!pn(r))throw xe.create("not-registered");const i=r.authToken;if(!e&&(2===(o=i).requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(o)))return r;var o;if(1===i.requestStatus)return n=async function(t,e){let n=await ln(t.appConfig);for(;1===n.authToken.requestStatus;)await Ge(100),n=await ln(t.appConfig);const r=n.authToken;return 0===r.requestStatus?hn(t,e):r}(t,e),r;{if(!navigator.onLine)throw xe.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return n=async function(t,e){try{const n=await un(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await nn(t.appConfig,r),n}catch(n){if(!Me(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nn(t.appConfig,n)}else await rn(t.appConfig);throw n}}(t,e),e}}));return n?await n:r.authToken}function ln(t){return on(t,(t=>{if(!pn(t))throw xe.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e}))}function pn(t){return void 0!==t&&2===t.registrationStatus}async function dn(t){const e=t,{installationEntry:n,registrationPromise:r}=await an(e);return r?r.catch(console.error):hn(e).catch(console.error),n.fid}async function gn(t,e=!1){const n=t;return await async function(t){const{registrationPromise:e}=await an(t);e&&await e}(n),(await hn(n,e)).token}function yn(t){return xe.create("missing-app-config-values",{valueName:t})}const mn="installations";be(new ut(mn,(t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw yn("App Configuration");if(!t.name)throw yn("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yn(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ve(e,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),be(new ut("installations-internal",(t=>{const e=ve(t.getProvider("app").getImmediate(),mn).getImmediate();return{getId:()=>dn(e),getToken:t=>gn(e,t)}}),"PRIVATE")),Se(Le,$e),Se(Le,$e,"esm2017");const wn=function(t=function(t=pe){const e=ge.get(t);if(!e&&t===pe&&rt())return Ie();if(!e)throw Ee.create("no-app",{appName:t});return e}()){return ve(t,"installations").getImmediate()}(Ie({apiKey:r.FIREBASE.API_KEY,authDomain:r.FIREBASE.AUTH_DOMAIN,databaseURL:r.FIREBASE.DATABASE_URL,projectId:r.FIREBASE.PROJECT_ID,storageBucket:r.FIREBASE.STORAGE_BUCKET,messagingSenderId:r.FIREBASE.MESSAGING_SENDER_ID,appId:r.FIREBASE.APP_ID}));var bn=n(287),vn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function En(t){return vn(this,void 0,void 0,(function*(){const e=(new TextEncoder).encode(t);return bn.hp.from(yield crypto.subtle.digest("SHA-1",e)).toString("base64").replace(/[+/=]/g,(t=>({"+":"-","/":"_","=":""}[t])))}))}function An(){return t=this,e=void 0,o=function*(){const t=yield Y(),e=yield function(){return t=this,e=void 0,r=function*(){const{installations:t}=yield browser.storage.local.get({installations:{id:"",token:"",timestamp:0}}),e=yield dn(wn),n=yield gn(wn);return t.id===e&&t.token===n||(t.id=e,t.token=n,t.timestamp=Date.now(),yield browser.storage.local.set({installations:t})),t},new((n=void 0)||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}(),n=yield function(t,e){return vn(this,void 0,void 0,(function*(){const{fcm_token:n}=yield browser.storage.local.get({fcm_token:{token:"",timestamp:0}});return(""===n.token||n.timestamp<t.timestamp||n.timestamp<e.timestamp)&&(n.token=yield function(t,e,n,i,o){return vn(this,void 0,void 0,(function*(){var a;const s=new URLSearchParams({app:r.APPLICATION.PACKAGE_NAME,app_ver:r.APPLICATION.VERSION,cert:r.APPLICATION.FINGERPRINT.SHA1,device:t.toString(),sender:r.FIREBASE.MESSAGING_SENDER_ID,info:n,"X-app_ver":r.APPLICATION.VERSION,"X-app_ver_name":r.APPLICATION.VERSION_NAME,"X-subtype":r.FIREBASE.MESSAGING_SENDER_ID,"X-appid":i,"X-Goog-Firebase-Installations-Auth":o,"X-firebase-app-name-hash":yield En(r.FIREBASE.APP_NAME),"X-gmp_app_id":r.FIREBASE.APP_ID,"X-scope":"*"}),c=yield fetch("https://fcmtoken.googleapis.com/register",{credentials:"omit",headers:{Authorization:`AidLogin ${t}:${e}`,app:r.APPLICATION.PACKAGE_NAME},body:s,method:"POST",mode:"cors"}),f=yield c.text();return null!==(a=new URLSearchParams(f).get("token"))&&void 0!==a?a:""}))}(t.id,t.token,t.version_info,e.id,e.token),n.timestamp=Date.now(),yield browser.storage.local.set({fcm_token:n})),n}))}(t,e);return""===n.token?"":(yield function(t){return i(this,void 0,void 0,(function*(){const{app_id:e}=yield browser.storage.local.get({app_id:{id:"",timestamp:0}}),n=yield function(){return i(this,void 0,void 0,(function*(){const{date:t}=yield browser.storage.local.get({date:{date:"",timestamp:0}}),e=yield fetch("https://json2.dcinside.com/json0/app_check_A_rina_one_new.php",{credentials:"omit",headers:{"User-Agent":"dcinside.app"},referrer:"http://www.dcinside.com",method:"GET",mode:"cors"}),n=yield e.json();return t.date!==n[0].date&&(t.date=n[0].date,t.timestamp=Date.now(),yield browser.storage.local.set({date:t})),t}))}();if(""===e.id||e.timestamp<t.timestamp||e.timestamp<n.timestamp){const o=yield function(t){return i(this,void 0,void 0,(function*(){const e=(new TextEncoder).encode(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map((t=>t.toString(16).padStart(2,"0"))).join("")}))}(`dcArdchk_${n.date}`);e.id=yield function(t,e){return i(this,void 0,void 0,(function*(){const n=new FormData;n.append("value_token",t),n.append("signature",r.APPLICATION.FINGERPRINT.SHA256),n.append("pkg",r.APPLICATION.PACKAGE_NAME),n.append("vCode",r.APPLICATION.VERSION),n.append("vName",r.APPLICATION.VERSION_NAME),n.append("client_token",e);const i=yield fetch("https://msign.dcinside.com/auth/mobile_app_verification",{credentials:"omit",headers:{Accept:"application/json","User-Agent":"okhttp"},referrer:"http://www.dcinside.com",body:n,method:"POST",mode:"cors"});return(yield i.json()).app_id}))}(o,t.token),e.timestamp=Date.now(),yield browser.storage.local.set({app_id:e})}return e}))}(n)).id},new((n=void 0)||(n=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}));var t,e,n,o}browser.runtime.onMessage.addListener((function(t,e,n){return r=this,i=void 0,a=function*(){const e=yield An(),n=function(t,e,n){return r=this,i=void 0,a=function*(){const r=new FormData;r.append("gall_id",t),r.append("upfile",n.slice(0,n.size,"audio/m4a"),n.name),r.append("name","ㅇㅇ"),r.append("app_id",e),r.append("down_chk","1");const i=yield fetch("https://upload.dcinside.com/_app_vr_board.php",{credentials:"omit",headers:{Accept:"application/json","User-Agent":"dcinside.app"},body:r,referrer:"http://www.dcinside.com",method:"POST",mode:"cors"});return(yield i.json())[0].cause},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,s)}c((a=a.apply(r,i||[])).next())}));var r,i,o,a}(t.id,e,t.file);return yield n},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,s)}c((a=a.apply(r,i||[])).next())}));var r,i,o,a}))})()})();
//# sourceMappingURL=background_script.js.map